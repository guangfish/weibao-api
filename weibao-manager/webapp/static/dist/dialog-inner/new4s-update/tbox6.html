<div class="pdtop16">
	<div class="table_rows" style="width:802px;height:300px;">
	    <div class="table_box" style="width:800px;height:375px;">
	        <table class="table_main" style="width:800px;height:375px;" id="followGrid"></table>
	    </div>
	</div>
</div>
<script type="text/javascript">
(function(){
	var ColumnsB  = {
		'follow' : [
			{field:'by-id',title:'',align:'left'},
			{field:'category',title:'类型',width:50,align:'center',formatter:function(value,row,index){
			    return ['-','追踪','回访'][value] || '-';	
			}},
			{field:'addname',title:'追踪/回访人',width:100,align:'center'},
			{field:'followtime',title:'追踪/回访时间',width:150,align:'center',formatter:function(value,row,index){
				return Core.rule('p.integer',value[0]) ? value[2] : "-";
			}},
			{field:'connectwayname',title:'追踪/回访方式',width:100,align:'center',formatter:function(value,row,index){
				return value+($.inArray(row.arriveweek,['1','2','3','4','5','6','7'])!=-1 ? '<span style="color:red">[首次]</span>' : '');
			}},
			{field:'customerlevelname',title:'追踪/回访级别',width:100,align:'center'},
			{field:'followinfo',title:'追踪/回访情况',width:220,align:'center',formatter:function(value,row,index){
				return '<span title="'+value+'">'+value+'</span>';
			}},
			{field:'price',title:'本次报价',width:80,align:'center',formatter:function(value,row,index){
				return Core.rule('p.double',value) ? value : "-";
			}},
			{field:'driving',title:'试驾',width:50,align:'center',formatter:function(value,row,index){
				return ['-','<i class="yes-ico"></i>'][value] || '';
			}},
		]
	};

	Core.Dialog.Datagrid($('#followGrid'),{
		idField: 'id',
		columns: [ColumnsB['follow']],
        url: '../resource/jsondata/detailview-follow.json',
        width: 800,
        height: 375,
        fitColumns: true
	});
})();	
</script>